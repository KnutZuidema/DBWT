{
  "Logging": {
    "LogLevel": {
      "Default": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "Default": "Server=localhost;Database=emensa;Uid=root;Pwd=password;"
  },
  "SqlQueries": {
    "ProductsModel": {
      "Meals": [
        "select m.id                meal_id,",
        "       m.available,",
        "       m.name              meal_name,",
        "       i.file_path,",
        "       min(ig.organic)     organic,",
        "       min(ig.gluten_free) gluten_free,",
        "       min(ig.vegan)       vegan,",
        "       min(ig.vegetarian)  vegetarian,",
        "       c.id                category_id",
        "from meal m",
        "       left join meal_image_relation mir on mir.meal_id = m.id",
        "       left join image i on i.id = mir.image_id",
        "       left join ingredient_meal_relation imr on m.id = imr.meal_id",
        "       left join ingredient ig on ig.id = imr.ingredient_id",
        "       left join category c on m.category_id = c.id",
        "group by meal_id"
      ],
      "Categories": [
        "select c.id, c.name, c2.id parent_id, c2.name parent_name",
        "from category c",
        "       left join category c2 on c2.id = c.parent_category_id "
      ]
    },
    "IngredientsModel": [
      "select * from ingredient"
    ],
    "DetailsModel": {
      "Meal": [
        "select m.name, m.description",
        "from meal m",
        "where m.id = @id"
      ],
      "Other": [
      ]
    },
    "LoginModel": {
      "GetUser": [
        "select username, hash, salt",
        "from user",
        "where username = @username"
      ],
      "AddUser": [
        "insert into user(username, first_name, last_name, email, hash, salt, birthday)",
        "values(@username, @firstName, @lastName, @email, @hash, @salt, @birthday"
      ]
    }
  }
}
